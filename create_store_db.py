import sqlite3

# เชื่อมต่อฐานข้อมูล (ถ้ายังไม่มีจะถูกสร้างขึ้น)
conn = sqlite3.connect("db/store.db")
cursor = conn.cursor()

# สร้างตาราง products
cursor.execute(
    """
CREATE TABLE IF NOT EXISTS products (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL,
    category TEXT,
    description TEXT,
    price REAL NOT NULL,
    stock INTEGER DEFAULT 0
)
"""
)

# ล้างข้อมูลเก่า
cursor.execute("DELETE FROM products")

# สินค้าตัวอย่าง 30 รายการ
products = [
    ("แว่นกรองแสงสีฟ้า", "อุปกรณ์เสริม", "แว่นตากรองแสงจากหน้าจอ", 1290.00, 12),
    ("ลำโพงบลูทูธ", "เครื่องเสียง", "ลำโพงพกพาเสียงดี เชื่อมต่อ Bluetooth", 990.00, 7),
    ("แท่นวางโน้ตบุ๊ก", "อุปกรณ์เสริม", "แท่นวางยกจอให้สูง ลดปวดคอ", 490.00, 5),
    ("เคสมือถือกันกระแทก", "มือถือ", "เคสแข็งแรง ป้องกันแรงตก", 590.00, 20),
    ("สายชาร์จเร็ว USB-C", "อุปกรณ์ชาร์จ", "รองรับ PD ความเร็วสูง", 350.00, 15),
    ("หูฟังไร้สาย", "เครื่องเสียง", "หูฟัง True Wireless เบสแน่น", 1490.00, 10),
    ("Power Bank 20000mAh", "อุปกรณ์ชาร์จ", "แบตสำรองความจุสูง", 890.00, 18),
    ("หน้ากากอนามัย KF94", "สุขภาพ", "ป้องกันฝุ่นละออง PM 2.5", 120.00, 50),
    ("เครื่องวัดอุณหภูมิ", "สุขภาพ", "ระบบอินฟราเรดวัดอุณหภูมิร่างกาย", 650.00, 8),
    ("ปลั๊กไฟ USB 5 ช่อง", "อุปกรณ์ไฟฟ้า", "ปลั๊กต่อพร้อม USB 5 ช่อง", 390.00, 12),
    ("ขาตั้งกล้องมือถือ", "อุปกรณ์เสริม", "ยืดได้สูง เหมาะสำหรับถ่ายวิดีโอ", 260.00, 14),
    ("แผ่นรองเมาส์เกมมิ่ง", "คอมพิวเตอร์", "พื้นผิวเรียบ เร็วแม่นยำ", 290.00, 30),
    ("เครื่องดูดฝุ่นพกพา", "อุปกรณ์บ้าน", "ใช้ในรถและบ้าน ขนาดเล็ก", 990.00, 6),
    ("ไม้เซลฟี่บลูทูธ", "มือถือ", "เชื่อมต่อมือถือได้ทุกระบบ", 330.00, 25),
    ("นาฬิกา Smartwatch", "อุปกรณ์ไอที", "วัดชีพจร-นับก้าว-แจ้งเตือน", 1790.00, 9),
    ("กระเป๋าใส่โน้ตบุ๊ก", "อุปกรณ์เสริม", "กระเป๋าสะพายข้างบุฟองน้ำ", 590.00, 11),
    ("กล้อง WebCam HD", "คอมพิวเตอร์", "ความละเอียด 1080p พร้อมไมค์", 850.00, 13),
    ("ปากกา Stylus", "มือถือ", "ใช้เขียนหน้าจอได้ลื่นแม่นยำ", 220.00, 17),
    ("แฟลชไดร์ฟ 64GB", "คอมพิวเตอร์", "USB 3.1 ความเร็วสูง", 320.00, 22),
    ("ฮับ USB 4 ช่อง", "คอมพิวเตอร์", "เพิ่มพอร์ต USB ได้อีก 4 ช่อง", 280.00, 15),
    ("หูฟังเกมมิ่ง", "เครื่องเสียง", "หูฟังมีไมค์สำหรับเกมเมอร์", 1190.00, 8),
    ("เครื่องชาร์จไร้สาย", "อุปกรณ์ชาร์จ", "รองรับ Qi Wireless Charging", 640.00, 6),
    ("แผ่นกันรอยหน้าจอ", "มือถือ", "กระจกนิรภัยกันรอยเต็มจอ", 190.00, 40),
    ("ไม้ถูพื้นหมุนได้", "อุปกรณ์บ้าน", "ทำความสะอาดสะดวก", 450.00, 10),
    ("ผ้าห่มนาโน", "ของใช้ในบ้าน", "นุ่มสบาย ขนาด 6 ฟุต", 750.00, 6),
    ("ขวดน้ำเก็บความเย็น", "ของใช้ส่วนตัว", "เก็บเย็นได้นาน 12 ชม.", 390.00, 20),
    ("ผ้าเช็ดหน้าไมโครไฟเบอร์", "ของใช้ส่วนตัว", "ดูดซับน้ำดี แห้งไว", 60.00, 40),
    ("ปลั๊กพ่วง 3 ช่อง", "อุปกรณ์ไฟฟ้า", "ปลั๊กสามตา มาตรฐาน มอก.", 220.00, 25),
    ("เครื่องวัดความดัน", "สุขภาพ", "แบบดิจิทัล ใช้งานง่าย", 1390.00, 4),
    ("แท่นชาร์จ Apple Watch", "อุปกรณ์ชาร์จ", "ชาร์จไร้สายเฉพาะ Apple Watch", 520.00, 7),
]

cursor.executemany(
    """
    INSERT INTO products (name, category, description, price, stock)
    VALUES (?, ?, ?, ?, ?)
""",
    products,
)

conn.commit()
conn.close()

print("✅ สร้าง store.db พร้อมสินค้า 30 รายการเรียบร้อยแล้ว")
